
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Cronómetros Test Rápido</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background-color: #f0f0f0;
    }
    .timer {
      background-color: white;
      border: 2px solid #ccc;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 400px;
    }
    .id-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .id-controls button {
      font-size: 18px;
      padding: 5px 10px;
    }
    .time-display {
      font-size: 24px;
      font-weight: bold;
      min-width: 80px;
      text-align: right;
    }
  </style>
</head>
<body>

  <h1>Cronómetros para Test Rápido</h1>
  <button onclick="addTimer()">Agregar cronómetro</button>
  <div id="timers"></div>

  <script>
    let timerCount = 0;

    function addTimer() {
      const container = document.getElementById("timers");
      const timerDiv = document.createElement("div");
      timerDiv.className = "timer";

      let id = ++timerCount;
      let initialTime = 15 * 60; // 15 minutos en segundos
      let extraTime = 5 * 60;    // 5 minutos más luego
      let currentTime = initialTime;
      let countingExtra = false;

      const idControls = document.createElement("div");
      idControls.className = "id-controls";

      const minusBtn = document.createElement("button");
      minusBtn.textContent = "-";
      const idLabel = document.createElement("span");
      idLabel.textContent = id;
      const plusBtn = document.createElement("button");
      plusBtn.textContent = "+";

      minusBtn.onclick = () => {
        id = Math.max(1, id - 1);
        idLabel.textContent = id;
      };

      plusBtn.onclick = () => {
        id += 1;
        idLabel.textContent = id;
      };

      idControls.appendChild(minusBtn);
      idControls.appendChild(idLabel);
      idControls.appendChild(plusBtn);

      const timeDisplay = document.createElement("div");
      timeDisplay.className = "time-display";

      function updateDisplay() {
        const minutes = Math.floor(currentTime / 60);
        const seconds = currentTime % 60;
        timeDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
      }

      updateDisplay();
      timerDiv.appendChild(idControls);
      timerDiv.appendChild(timeDisplay);
      container.appendChild(timerDiv);

      const interval = setInterval(() => {
        currentTime--;
        updateDisplay();

        if (currentTime === 0 && !countingExtra) {
          timerDiv.style.backgroundColor = "#c8e6c9"; // verde claro
          countingExtra = true;
          currentTime = extraTime;
        } else if (countingExtra && currentTime === 0) {
          timerDiv.style.backgroundColor = "#ffcdd2"; // rojo claro
          clearInterval(interval);
        }
      }, 1000);
    }
  </script>

</body>
</html>
